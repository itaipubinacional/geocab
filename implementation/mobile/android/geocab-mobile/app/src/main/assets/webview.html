<!--
 webview.html
 
 Created by Joaz Vieira Soares on 05/05/15.
 Copyright (c) 2014 Itaipu.
!-->
<html>
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">

    <link rel="stylesheet" href="css/ol.css" type="text/css">
    <link rel="stylesheet" href="css/webview.css" type="text/css">

    <script src="js/ol.js" type="text/javascript"></script>
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/jquery.touchSwipe.min.js" type="text/javascript"></script>
    <script src="js/geocab.app.js" type="text/javascript"></script>
	<script src="js/geocab.swipe.app.js" type="text/javascript"></script>
    <script src="js/geocab.marker.app.js" type="text/javascript"></script>
</head>

<body>

    <div id="map" class="map noSwipe">

        <div id="action-state">
            <div class="add-point"></div>
        </div>

        <div id="add-state" class="hide">
            <div class="save-point"></div>
            <div class="cancel-point"></div>
            <div class="center-marker"></div>
        </div>
		
    </div>
	
	<div id="info"></div>
	
	<div id="marker-template">
		<div  class="marker-info-box">
			<div class="marker-info-header">
				<p class="marker-title"></p>
				<div class="marker-info-close"></div>
			</div>
			<p class="marker-status"></p>
			<div class="marker-info-action">
				<div class="marker-action update">
					<img src="file:///android_res/drawable/edit.png">
					<p>Editar</p>
				</div>			
				<div class="marker-action remove">
					<img src="file:///android_res/drawable/remove.png">
					<p>Excluir</p>
				</div>	
				<div class="marker-action approve">
					<img src="file:///android_res/drawable/approve.png">
					<p>Aprovar</p>
				</div>			
				<div class="marker-action refuse">
					<img src="file:///android_res/drawable/refuse.png">
					<p>Recusar</p>
				</div>  
			</div>			
			<div class="marker-info-content"></div>
		</div>	
	</div>
    
	<div id="layer-template">
		<div class="marker-info-box">
			<div class="marker-info-header">
				<p class="marker-title"></p>
				<div class="marker-info-close"></div>
			</div>		
			<div class="marker-info-content"></div>
		</div>   	
	</div>
 
    <script type="text/javascript">
    $(document).ready(function() {
		
        geocabapp.init("map", Android);
        geocabapp.marker.init();

        $(".add-point").click(function(){
            geocabapp.changeToAddState();
        });

        $(".cancel-point").click(function(){
            geocabapp.changeToActionState();
        });

        $(".save-point").click(function(){
            geocabapp.changeToSaveState();
        });

        $(".marker-info-close").click(function(event){
            geocabapp.marker.hide(event);
        });
		
        $(".marker-action.update").click(function(){
            geocabapp.marker.update();
        });		
		
        $(".marker-action.approve").click(function(){
            geocabapp.marker.approve();
        });
		
        $(".marker-action.refuse").click(function(){
            geocabapp.marker.refuse();
        });		
		
        $(".marker-action.remove").click(function(){
            geocabapp.marker.remove();
        });

    });
    </script>

</body>

</html>